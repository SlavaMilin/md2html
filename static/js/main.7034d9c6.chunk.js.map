{"version":3,"sources":["App.tsx","redusers/html.tsx","redusers/index.tsx","index.tsx"],"names":["classMap","table","bindings","Object","keys","map","key","regex","RegExp","concat","replace","type","converter","showdown","Converter","customizedHeaderId","disableForced4SpacesIndentedSublists","extensions","toConsumableArray","wn","href","ghCompatibleHeaderId","headerLevelStart","tables","extractMarkdownToHtml","markdown","beautify","html","makeHtml","indent_size","App","textarea","React","createRef","onConvertBtnClick","_this","current","value","props","this","react_default","a","createElement","className","onClick","rows","ref","defaultValue","readOnly","Component","connect","state","dispatch","payload","arguments","length","undefined","action","combineReducers","store","createStore","redusers","composeWithDevTools","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"uRAUMA,EAAsC,CAC1CC,MAAO,sCAGHC,EAAgBC,OAAOC,KAAKJ,GAAUK,IAAI,SAAAC,GAAG,MAAK,CACtDC,MAAO,IAAIC,OAAJ,IAAAC,OAAeH,EAAf,SAA2B,KAClCI,QAAO,IAAAD,OAAMH,EAAN,YAAAG,OAAoBT,EAASM,GAA7B,SACPK,KAAM,YAWFC,EAAY,IAAIC,IAASC,UAAU,CACvCC,oBAAoB,EACpBC,sCAAsC,EACtCC,WAAU,GAAAR,OAAAN,OAAAe,EAAA,EAAAf,CAAMD,GAAN,CAXO,iBAAO,CACxBK,MAAO,oBACPG,QAAS,SAACS,EAASC,GACjB,mBAAAX,OAAoBW,EAApB,UAAAX,OAAiCW,EAAjC,OAEFT,KAAM,aAONU,sBAAsB,EACtBC,iBAAkB,EAClBC,QAAQ,IAGJC,EAAwB,SAACC,GAAD,OAC5BC,IAASC,KAAKf,EAAUgB,SAASH,GAAW,CAAEI,YAAa,KAEvDC,6MACIC,SAAWC,IAAMC,cA+CjBC,kBAAoB,WAC1B,IAAMT,EAAWU,EAAKJ,SAASK,QAASC,MAClCV,EAAOH,EAAsBC,GACnCU,EAAKG,MAAMJ,kBAAkBP,uFA/C7B,IAAMF,EAAWc,KAAKR,SAASK,QAASC,MAClCV,EAAOH,EAAsBC,GACnCc,KAAKD,MAAMJ,kBAAkBP,oCAI7B,OACEa,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,yBAAd,uFACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,uDACAH,EAAAC,EAAAC,cAAA,UACEC,UAAU,uBACVC,QAASL,KAAKL,mBAFhB,8FAMAM,EAAAC,EAAAC,cAAA,YACEC,UAAU,eACVE,KAAM,GACNC,IAAKP,KAAKR,SACVgB,aAAa,8GAGjBP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,2DACAH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,oCAAlB,sEAGAH,EAAAC,EAAAC,cAAA,YACEG,KAAM,GACNF,UAAU,eACVN,MAAOE,KAAKD,MAAMX,KAClBqB,UAAU,eAvCRC,aAuDHC,cACb,SAAAC,GAAK,MAAK,CACRxB,KAAMwB,EAAMxB,OAEd,SAAAyB,GAAQ,MAAK,CACXlB,kBAAmB,SAACP,GAClByB,EAAS,CAAEzC,KAAM,cAAe0C,QAAS1B,OANhCuB,CASbpB,GC9FaH,EARF,WAAkE,IAAjEwB,EAAiEG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFlD,2GAEOG,EAA2CH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC7E,MAAoB,gBAAhBC,EAAO9C,KACF8C,EAAOJ,QAGTF,GCJMO,4BAAgB,CAC7B/B,SCKIgC,EAAQC,sBAAYC,EAAUC,iCAEpCC,IAASC,OACPxB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAUN,MAAOA,GACfnB,EAAAC,EAAAC,cAACwB,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.7034d9c6.chunk.js","sourcesContent":["import beautify from \"js-beautify\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport showdown from \"showdown\";\n\ninterface IProps {\n  html: string;\n  onConvertBtnClick: any;\n}\n\nconst classMap: { [key: string]: string } = {\n  table: \"table table-striped table-bordered\"\n};\n\nconst bindings: any = Object.keys(classMap).map(key => ({\n  regex: new RegExp(`<${key}(.*)>`, \"g\"),\n  replace: `<${key} class=\"${classMap[key]}\" $1>`,\n  type: \"output\"\n}));\n\nconst hrefs: any = () => ({\n  regex: /<a href=\"#(.+)\">/g,\n  replace: (wn: any, href: any) => {\n    return `<a href=\"#${href}\" id=\"${href}\">`;\n  },\n  type: \"output\"\n});\n\nconst converter = new showdown.Converter({\n  customizedHeaderId: true,\n  disableForced4SpacesIndentedSublists: true,\n  extensions: [...bindings, hrefs],\n  ghCompatibleHeaderId: true,\n  headerLevelStart: 3,\n  tables: true\n});\n\nconst extractMarkdownToHtml = (markdown: string): string =>\n  beautify.html(converter.makeHtml(markdown), { indent_size: 2 });\n\nclass App extends Component<IProps> {\n  private textarea = React.createRef<HTMLTextAreaElement>();\n\n  public componentDidMount(): void {\n    const markdown = this.textarea.current!.value;\n    const html = extractMarkdownToHtml(markdown);\n    this.props.onConvertBtnClick(html);\n  }\n\n  public render() {\n    return (\n      <div>\n        <div className=\"container\">\n          <h3 className=\"text-center mb-3 mt-3\">Конвертер из md в html.</h3>\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <h4 className=\"text-center\">Вставьте md</h4>\n              <button\n                className=\"btn btn-primary mb-2\"\n                onClick={this.onConvertBtnClick}\n              >\n                Сконвертировать\n              </button>\n              <textarea\n                className=\"form-control\"\n                rows={20}\n                ref={this.textarea}\n                defaultValue=\"#Тестовый заголовок\"\n              />\n            </div>\n            <div className=\"col-6\">\n              <h4 className=\"text-center\">Результат:</h4>\n              <button className=\"btn btn-primary float-right mb-2\">\n                Скопировать\n              </button>\n              <textarea\n                rows={20}\n                className=\"form-control\"\n                value={this.props.html}\n                readOnly={true}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private onConvertBtnClick = () => {\n    const markdown = this.textarea.current!.value;\n    const html = extractMarkdownToHtml(markdown);\n    this.props.onConvertBtnClick(html);\n  };\n}\n\nexport default connect<any, any, any, any>(\n  state => ({\n    html: state.html\n  }),\n  dispatch => ({\n    onConvertBtnClick: (html: any) => {\n      dispatch({ type: \"HTML_MARKUP\", payload: html });\n    }\n  })\n)(App);\n","const initialState: string = \"#Тестовый заголовок\";\n\nconst html = (state = initialState, action: { type: string; payload: any }) => {\n  if (action.type === \"HTML_MARKUP\") {\n    return action.payload;\n  }\n\n  return state;\n};\n\nexport default html;\n","import { combineReducers } from \"redux\";\nimport html from \"./html\";\n\nexport default combineReducers({\n  html\n});\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport App from \"./App\";\nimport redusers from \"./redusers\";\n\nconst store = createStore(redusers, composeWithDevTools());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}